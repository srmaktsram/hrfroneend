<div>
  <!-- Page Wrapper -->
  <div class="page-wrapper">
    <!-- Page Content -->
    <div class="content container-fluid">
      <!-- Page Header -->
      <div class="page-header">
        <div class="row align-items-center">
          <div class="col">
            <h3 class="page-title">Categories</h3>
            <ul class="breadcrumb">
              <li class="breadcrumb-item">
                <a routerLink="/layout/dashboard/admin">Dashboard</a>
              </li>
              <li class="breadcrumb-item active">Accounts</li>
            </ul>
          </div>
          <div class="col-auto float-end ms-auto">
            <a
            *ngIf="user_type === 'admin' || (user_type === 'rolefinance' && accountingwriteFin === 'true')||(user_type === 'roleadmin' && accountingwrite == 'true')||(user_type === 'rolesubadmin' && accountingwriteSub === 'true')"
              href="#"
              class="btn add-btn"
              data-bs-toggle="modal"
              data-bs-target="#add_categories"
              ><i class="fa fa-plus"></i> Add Categories</a
            >
          </div>
        </div>
      </div>
      <!-- /Page Header -->

      <div class="row">
        <div class="col-md-12">
          <div class="table-responsive">
            <table class="table table-striped custom-table mb-0">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Category Name</th>
                  <th>Sub-Category Name</th>
                  <th class="text-end" *ngIf="user_type === 'admin' || (user_type === 'rolefinance' && accountingwriteFin === 'true')||(user_type === 'roleadmin' && accountingwrite == 'true')||(user_type === 'rolesubadmin' && accountingwriteSub === 'true')">Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of lstCategories; let i = index">
                  <td>{{ i + 1 }}</td>
                  <td>{{ item.categoryname }}</td>
                  <td>{{ item.subcategoryname }}</td>
                  <td class="text-end" *ngIf="user_type === 'admin' || (user_type === 'rolefinance' && accountingwriteFin === 'true')||(user_type === 'roleadmin' && accountingwrite == 'true')||(user_type === 'rolesubadmin' && accountingwriteSub === 'true')">
                    <div class="dropdown dropdown-action">
                      <a
                        href="#"
                        class="action-icon dropdown-toggle"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        ><i class="material-icons">more_vert</i></a
                      >
                      <div class="dropdown-menu dropdown-menu-right">
                        <a
                          class="dropdown-item"
                          href="#"
                          data-bs-toggle="modal"
                          data-bs-target="#edit_categories"
                          (click)="edit(item)"
                          ><i class="fa fa-pencil m-r-5"></i> Edit</a
                        >
                        <a
                          class="dropdown-item"
                          data-bs-toggle="modal"
                          (click)="deleteCategory(item)"
                          data-bs-target="#delete_ticket"
                          ><i class="fa fa-trash-o m-r-5"></i> Delete</a
                        >
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <!-- /Page Content -->

    <!-- Add Holiday Modal -->
    <div
      id="add_categories"
      class="modal custom-modal fade"
      id="add_categories"
      role="dialog"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Categories</h5>
            <button
              type="button"
              class="close"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form (ngSubmit)="addCategories()" [formGroup]="addCategoriesForm">
              <div class="form-group">
                <label
                  >Categories Name <span class="text-danger">*</span></label
                >
                <input
                  class="form-control"
                  type="text"
                  [class.invalid]="
                    addCategoriesForm.get('CategoriesName').invalid &&
                    addCategoriesForm.get('CategoriesName').touched
                  "
                  formControlName="CategoriesName"
                />
                <div
                  *ngIf="
                    addCategoriesForm.get('CategoriesName').invalid &&
                    addCategoriesForm.get('CategoriesName').touched
                  "
                >
                  <small
                    *ngIf="
                      addCategoriesForm.get('CategoriesName').invalid &&
                      addCategoriesForm.get('CategoriesName').touched
                    "
                    class="text-danger"
                  >
                    *Categories Name required</small
                  >
                </div>
              </div>
              <div class="form-group">
                <label
                  >SubCategories Name <span class="text-danger">*</span></label
                >
                <input
                  class="form-control"
                  type="text"
                  [class.invalid]="
                    addCategoriesForm.get('SubCategoriesName').invalid &&
                    addCategoriesForm.get('SubCategoriesName').touched
                  "
                  formControlName="SubCategoriesName"
                />
                <div
                  *ngIf="
                    addCategoriesForm.get('SubCategoriesName').invalid &&
                    addCategoriesForm.get('SubCategoriesName').touched
                  "
                >
                  <small
                    *ngIf="
                      addCategoriesForm.get('SubCategoriesName').invalid &&
                      addCategoriesForm.get('SubCategoriesName').touched
                    "
                    class="text-danger"
                  >
                    *Sub categories Name required</small
                  >
                </div>
              </div>

              <div class="submit-section">
                <button class="btn btn-primary submit-btn">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- /Add Holiday Modal -->

    <!-- Add Holiday Modal -->
    <div
      id="edit_categories"
      class="modal custom-modal fade"
      id="edit_categories"
      role="dialog"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Edit Categories</h5>
            <button
              type="button"
              class="close"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form
              (ngSubmit)="editCategories()"
              [formGroup]="editCategoriesForm"
            >
              <div class="form-group">
                <label
                  >Categories Name <span class="text-danger">*</span></label
                >
                <input
                  class="form-control"
                  type="text"
                  value="Hardware"
                  [class.invalid]="
                    editCategoriesForm.get('CategoriesName').invalid &&
                    editCategoriesForm.get('CategoriesName').touched
                  "
                  formControlName="CategoriesName"
                />
                <div
                  *ngIf="
                    editCategoriesForm.get('CategoriesName').invalid &&
                    editCategoriesForm.get('CategoriesName').touched
                  "
                >
                  <small
                    *ngIf="
                      editCategoriesForm.get('CategoriesName').invalid &&
                      editCategoriesForm.get('CategoriesName').touched
                    "
                    class="text-danger"
                  >
                    *Categories Name required</small
                  >
                </div>
              </div>
              <div class="form-group">
                <label
                  >SubCategories Name<span class="text-danger">*</span></label
                >
                <input
                  class="form-control"
                  type="text"
                  value="Hardware"
                  [class.invalid]="
                    editCategoriesForm.get('SubCategoriesName').invalid &&
                    editCategoriesForm.get('SubCategoriesName').touched
                  "
                  formControlName="SubCategoriesName"
                />
                <div
                  *ngIf="
                    editCategoriesForm.get('SubCategoriesName').invalid &&
                    editCategoriesForm.get('SubCategoriesName').touched
                  "
                >
                  <small
                    *ngIf="
                      editCategoriesForm.get('SubCategoriesName').invalid &&
                      editCategoriesForm.get('SubCategoriesName').touched
                    "
                    class="text-danger"
                  >
                    *Sub categories Name required</small
                  >
                </div>
              </div>

              <div class="submit-section">
                <button class="btn btn-primary submit-btn">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- /Add Holiday Modal -->
  </div>
  <!-- /Page Wrapper -->
</div>
